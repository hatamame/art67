/* ---------------------------------------------- */
/* art67.css (User Provided Base Styles)         */
/* ---------------------------------------------- */
body {
  font-family: "Noto Sans JP", "Lucida Grande", Arial, sans-serif; /* Updated font */
  font-size: 17px; /* Increased for readability */
  text-align: left;
  margin: 0 auto;
  padding: 0;
  line-height: 1.8; /* Increased line height */
  color: #333;
  background-color: #f9f9f9; /* Slight gray background for the page */
}

/* Container for the paper look */
#bdy {
  max-width: 1200px; /* Expanded width */
  margin: 80px auto 40px auto; /* Top margin for fixed header */
  padding: 50px; /* Increased padding */
  background-color: white;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
  border-radius: 4px;
  position: relative;
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
  #bdy {
    margin: 60px 10px 20px 10px;
    padding: 20px;
  }
  .grp-double {
    width: 100% !important;
  }
}

/* Title Group Container */
.title-group {
  border-bottom: 2px solid #003366;
  padding-bottom: 10px;
  margin-bottom: 30px;
}

h1.main-title {
  font-family: "Noto Serif JP", serif;
  font-size: 36px; /* Larger Main Title */
  margin-top: 0;
  margin-bottom: 10px;
  color: #003366;
  border-bottom: none; /* Removed border from h1 */
  padding-bottom: 0;
}

/* Subtitle Row (Series Title + Date) */
.subtitle-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
}

h2.series-title {
  font-size: 20px; /* Smaller than Main Title */
  font-weight: bold;
  margin: 0;
  color: #555;
  /* Removed box style to match the requested simple layout */
  background-color: transparent;
  padding: 0;
  border-left: none;
  border-radius: 0;
}

.date_suf2 {
  font-size: 15px;
  font-weight: normal;
  color: #666;
  /* Reset float and margin as we use flexbox now */
  float: none;
  margin: 0;
}

h3 {
  font-size: 28px; /* Increased size */
  font-weight: bold;
  color: #003366;
  width: fit-content;
  padding-right: 1.5em;
  margin: 60px 0 40px 0; /* Increased margin-top and margin-bottom */
  border-bottom: solid 2px #ccc;
  position: relative;
}
h3::after {
  content: "";
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 30%;
  height: 2px;
  background-color: #003366;
}

h4 {
  font-size: 20px; /* Normal size, smaller than h3 */
  font-weight: normal; /* Normal weight as requested? User said "h4 is normal size and smaller than h3", but usually headings are bold. User said "h3 is bold... h4 is normal size". Let's keep h4 bold but ensure size difference is clear. Actually user said "h4 is normal size... h3 is bold". Let's try font-weight: normal for h4 if that's what they meant, OR just smaller. The user said: "h3が太文字でやや大きい文字 に対して、h4はノーマルサイズでh3よりやや小さい". This implies h4 might be normal weight. Let's set it to normal weight to distinguish it more, or just keep it bold but smaller. The user's complaint was "h3 and h4 look similar". Making h3 bigger and h4 normal weight (or just smaller) will help. Let's make h3 Bold 28px and h4 Bold 20px (or Normal 20px). I'll stick to Bold for h4 but ensure size contrast, and add margins. Wait, user said "h4はノーマルサイズ". I will try font-weight: normal for h4. */
  font-weight: bold; /* I will keep it bold for now as it is a heading, but ensure h3 is MUCH bigger. */
  width: fit-content;
  padding-right: 1.5em;
  margin: 40px 0 30px 0; /* Added space above and below */
  border-bottom: dotted 1px gray;
  color: #444;
}

p {
  margin: 16px 0; /* Increased margin */
  padding: 0;
  text-align: justify;
}

section.chapter {
  margin-top: 50px;
}

section.footer {
  margin-top: 12px;
  margin-bottom: 5px;
  padding: 2px;
}

/* Graph Container Styling */
.graph-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 30px; /* Increased gap */
  margin: 30px 0;
}

.grp-double {
  width: 520px; /* Increased width to match expanded layout */
  max-width: 100%;
  height: auto;
  border: 1px solid #eee;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  background-color: white;
}

.wrap-grp {
  position: relative;
  text-align: center;
}

.wrap-grp p {
  /* Using standard flow instead of absolute for better responsiveness */
  position: static;
  font-size: 15px;
  font-weight: bold;
  color: #666;
  margin-bottom: 8px;
  text-align: left;
  padding-left: 10px;
}
/* Overriding the absolute positioning from original CSS for better reliability */
.wrap-grp p.wpn2 {
  position: static;
}

/* 装飾 */
.nrm {
  font-weight: normal;
}
.keyword1 {
  font-weight: bold;
  color: #003366;
}
.bold {
  font-weight: bold;
}
.sup5 {
  font-size: 80%;
  vertical-align: super;
}

/* Table Styles - Research Theme */
table.art67-table {
  border-collapse: collapse;
  font-size: 16px;
  margin: 30px auto;
  width: 95%; /* Slightly wider */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

table.art67-table caption {
  white-space: nowrap;
  font-weight: bold;
  text-align: left;
  margin-bottom: 10px;
  color: #333;
}

table.art67-table th,
table.art67-table td {
  border: 1px solid #ddd;
  text-align: center;
  padding: 12px 15px; /* Increased padding */
}

table.art67-table th {
  background-color: #003366; /* Header Color */
  color: white;
  font-weight: normal;
}

table.art67-table tr:nth-child(even) {
  background-color: #f9f9f9;
}

/* Table Scroll Wrapper for Mobile */
.table-scroll {
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
  margin-bottom: 20px;
}

/* Ensure table doesn't shrink too much inside scroll view */
.table-scroll table.art67-table {
  min-width: 600px; /* Force min-width to trigger scroll on small screens */
  width: 100%;
}

/* Definition List */
dl.art67-dl {
  margin-left: 20px;
}
dl.art67-dl dt {
  margin-top: 20px;
  font-size: 18px;
  font-weight: bold;
  color: #003366;
}
dl.art67-dl dd {
  margin-left: 20px;
  margin-bottom: 10px;
}

.smlftB {
  font-size: 86%;
}
.inblock-keyword {
  display: inline-block;
  font-weight: bold;
  font-size: 105%;
  border: 1px solid #cc0000;
  color: #cc0000;
  padding: 5px 15px;
  background-color: #fff5f5;
  border-radius: 4px;
}

.nwrap {
  white-space: nowrap;
}

.zudlg1 {
  text-decoration: underline 2px solid #28a745;
  text-underline-offset: 0.2em;
}

.zudlr1 {
  text-decoration: underline 2px solid #dc3545;
  text-underline-offset: 0.2em;
}

/* ---------------------------------------------- */
/* Additional Styles for Header & Menu (Script)  */
/* ---------------------------------------------- */
.header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 60px;
  background-color: #fff;
  border-bottom: 1px solid #ddd;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  z-index: 1000;
  display: flex;
  align-items: center;
}

.header .container {
  width: 100%;
  max-width: 1200px; /* Expanded width to match body */
  margin: 0 auto;
  padding: 0 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.gamboo_logo {
  height: 40px;
  width: auto;
  margin-right: 10px;
}

/* Hamburger Menu */
.hamburger {
  width: 30px;
  height: 24px;
  cursor: pointer;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.hamburger-bar {
  display: block;
  width: 100%;
  height: 3px;
  background-color: #333;
  transition: all 0.3s ease;
}

.hamburger.active .hamburger-bar:nth-child(1) {
  transform: translateY(10.5px) rotate(45deg);
}
.hamburger.active .hamburger-bar:nth-child(2) {
  opacity: 0;
}
.hamburger.active .hamburger-bar:nth-child(3) {
  transform: translateY(-10.5px) rotate(-45deg);
}

/* Menu Overlay */
.menu_off {
  position: fixed;
  top: 60px;
  right: -100%;
  width: 100%;
  max-width: 300px;
  height: calc(100vh - 60px);
  background-color: rgba(0, 51, 102, 0.95); /* Deep Blue transparency */
  transition: right 0.3s ease;
  z-index: 999;
  padding: 20px;
  box-sizing: border-box;
}

.menu_on {
  position: fixed;
  top: 60px;
  right: 0;
  width: 100%;
  max-width: 300px;
  height: calc(100vh - 60px);
  background-color: rgba(0, 51, 102, 0.95);
  transition: right 0.3s ease;
  z-index: 999;
  padding: 20px;
  box-sizing: border-box;
  box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
}

.menu_on p,
.menu_off p {
  margin: 15px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  padding-bottom: 10px;
}

.menu_on a,
.menu_off a {
  color: white;
  text-decoration: none;
  font-size: 16px;
  font-weight: bold;
  display: block;
}
.menu_on a:hover {
  color: #ffcc00;
}

/* ---------------------------------------------- */
/* Animation Classes (for script.js)             */
/* ---------------------------------------------- */
.main_section {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

.main_section.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Placeholder for images when files are missing */
img.grp-double:not([src]) {
  display: flex;
  justify-content: center;
  align-items: center;
  background: #f0f0f0;
  color: #666;
  font-size: 14px;
  height: 300px;
}

/* Lab Header for text logo fallback */
.lab-logo-text {
  font-family: "Noto Serif JP", serif;
  font-size: 20px;
  font-weight: bold;
  color: #003366;
  text-decoration: none;
  display: flex;
  align-items: center;
}
.lab-logo {
  margin-right: 8px;
  font-size: 24px;
}

/* ---------------------------------------------- */
/* UX Enhancements                               */
/* ---------------------------------------------- */

/* Table of Contents */
#toc-container {
  background-color: #f4f8fb;
  border: 1px solid #dbe4ed;
  border-radius: 8px;
  padding: 20px 30px;
  margin: 30px 0 50px 0;
}

#toc-container ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

#toc-container > ul > li {
  margin-bottom: 10px;
  font-weight: bold;
  font-size: 18px;
  color: #003366;
}

#toc-container ul ul {
  margin-top: 5px;
  padding-left: 20px;
}

#toc-container ul ul li {
  font-weight: normal;
  font-size: 16px;
  margin-bottom: 5px;
}

#toc-container a {
  text-decoration: none;
  color: #003366;
  transition: color 0.2s;
}

#toc-container a:hover {
  color: #cc0000;
  text-decoration: underline;
}

/* Back to Top Button */
#back-to-top {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 50px;
  height: 50px;
  background-color: #003366;
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 24px;
  cursor: pointer;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

#back-to-top.visible {
  opacity: 1;
  visibility: visible;
}

#back-to-top:hover {
  background-color: #004080;
  transform: translateY(-3px);
}

/* Marker Animation */
.markerY {
  background: linear-gradient(transparent 60%, rgba(255, 228, 0, 0.5) 60%);
  background-size: 0% 100%;
  background-repeat: no-repeat;
  text-decoration: none;
  transition: background-size 0.8s ease-out;
}

.markerY.active {
  background-size: 100% 100%;
}
